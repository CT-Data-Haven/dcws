---
format: gfm
engine: knitr
execute: 
  warning: false
  message: false
  echo: false
---

<!-- README.md is generated from README.qmd. Please edit that file -->

```{r}
#| label: setup
#| include: false
library(dcws)
```

# dcws

<!-- badges: start -->
[![R-CMD-check](https://github.com/CT-Data-Haven/dcws/actions/workflows/check-release.yaml/badge.svg)](https://github.com/CT-Data-Haven/dcws/actions/workflows/check-release.yaml)
[![pkgdown](https://github.com/CT-Data-Haven/dcws/actions/workflows/pkgdown.yaml/badge.svg)](https://github.com/CT-Data-Haven/dcws/actions/workflows/pkgdown.yaml)
[![Codecov test coverage](https://codecov.io/gh/CT-Data-Haven/dcws/branch/main/graph/badge.svg)](https://app.codecov.io/gh/CT-Data-Haven/dcws?branch=main)
<!-- badges: end -->

This is a small data-focused package to make easier use of the DataHaven Community Wellbeing Survey. It contains the data extracted from crosstabs from the `r knitr::combine_words(unique(cws_full_data$year))` survey waves. 2020 and 2022 are statewide only.

## Installation

You can install the development version of dcws from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("CT-Data-Haven/dcws")
```

## Included data

As of `r Sys.Date()`, the data included here are:

```{r}
xt_tbl <- cws_full_data |>
    dplyr::distinct(year, name) |>
    dplyr::arrange(name) |>
    dplyr::mutate(value = "x")

xt_total <- xt_tbl |>
    dplyr::group_by(year, name = "**TOTAL**") |>
    dplyr::summarise(value = sprintf("**%d**", dplyr::n()))

rbind(xt_tbl, xt_total) |>
    tidyr::pivot_wider(id_cols = name, names_from = year, values_fill = list(value = ""), names_sort = TRUE) |>
    knitr::kable(align = "lccccc")
```

