---
title: "Indicator definitions"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{definitions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  echo = FALSE
)
```

This is a quick attempt at creating standardized definitions of many of the indicators we use. For example, the question about the condition of local parks is a Likert-style question with answers of strongly agree, somewhat agree, somewhat disagree, strongly disagree. When we report this indicator, however, we do it as the percentage that says either strongly or somewhat agree. The data frame `cws_defs` has definitions of each indicator of this type, how the question was phrased, and the definition of what responses get collapsed into the summary indicator.

```{r setup}
library(dcws)
library(dplyr)
```

Here's how one of these Likert questions is defined. It doesn't have anything special to it, so the universe and calculation columns are blank:

```{r}
cws_defs |>
  filter(indicator == "safe biking") |>
  knitr::kable()
```

A few questions are more complicated, and have different universes to use. For example, current smoking rate is calculated based on the percentage of people who say they've smoked 100 cigarettes in their life; that becomes the universe for the share of people who say they currently smoke every day or some days:

```{r}
cws_defs |>
  filter(grepl("smok", indicator)) |>
  knitr::kable()
```

Here's the whole data frame as reference:

```{r}
knitr::kable(cws_defs)
```

