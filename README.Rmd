---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = FALSE,
	fig.path = "man/figures/README-",
	message = FALSE,
	warning = FALSE,
	collapse = TRUE,
	comment = "#>",
	out.width = "100%"
)
```

# dcws

<!-- badges: start -->
[![Codecov test coverage](https://codecov.io/gh/CT-Data-Haven/dcws/branch/main/graph/badge.svg)](https://app.codecov.io/gh/CT-Data-Haven/dcws?branch=main)
<!-- badges: end -->

This is a small data-focused package to make easier use of the DataHaven Community Wellbeing Survey. It contains the data extracted from crosstabs from the 2015, 2018, 2020 (statewide only), and 2021 survey waves.

## Installation

You can install the development version of dcws from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("CT-Data-Haven/dcws")
```

## Included data

As of `r Sys.Date()`, the data included here are:

```{r}
library(dcws)

xt_tbl <- cws_full_data %>%
  dplyr::distinct(year, name) %>%
  dplyr::arrange(name) %>%
  dplyr::mutate(value = "x") 

xt_total <- xt_tbl %>%
  dplyr::group_by(year, name = "**TOTAL**") %>%
  dplyr::summarise(value = sprintf("**%d**", dplyr::n()))

rbind(xt_tbl, xt_total) %>%
  tidyr::pivot_wider(id_cols = name, names_from = year, values_fill = list(value = ""), names_sort = TRUE) %>%
  knitr::kable(align = "lcccc")
```

